var E=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,C=/[\0-\x1F\x7F-\x9F]/,z=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,A=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/;function x(_){const t={};_=_||{},t.src_Any=E.source,t.src_Cc=C.source,t.src_Z=A.source,t.src_P=z.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const u="[><\uFF5C]";return t.src_pseudo_letter="(?:(?!"+u+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+u+"|"+t.src_ZPCc+")(?!"+(_["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+u+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(_["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+u+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+t.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+t.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function F(_){return Array.prototype.slice.call(arguments,1).forEach(function(u){!u||Object.keys(u).forEach(function(e){_[e]=u[e]})}),_}function D(_){return Object.prototype.toString.call(_)}function y(_){return D(_)==="[object String]"}function g(_){return D(_)==="[object Object]"}function B(_){return D(_)==="[object RegExp]"}function d(_){return D(_)==="[object Function]"}function Z(_){return _.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const f={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function v(_){return Object.keys(_||{}).reduce(function(t,u){return t||f.hasOwnProperty(u)},!1)}const w={"http:":{validate:function(_,t,u){const e=_.slice(t);return u.re.http||(u.re.http=new RegExp("^\\/\\/"+u.re.src_auth+u.re.src_host_port_strict+u.re.src_path,"i")),u.re.http.test(e)?e.match(u.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(_,t,u){const e=_.slice(t);return u.re.no_http||(u.re.no_http=new RegExp("^"+u.re.src_auth+"(?:localhost|(?:(?:"+u.re.src_domain+")\\.)+"+u.re.src_domain_root+")"+u.re.src_port+u.re.src_host_terminator+u.re.src_path,"i")),u.re.no_http.test(e)?t>=3&&_[t-3]===":"||t>=3&&_[t-3]==="/"?0:e.match(u.re.no_http)[0].length:0}},"mailto:":{validate:function(_,t,u){const e=_.slice(t);return u.re.mailto||(u.re.mailto=new RegExp("^"+u.re.src_email_name+"@"+u.re.src_host_strict,"i")),u.re.mailto.test(e)?e.match(u.re.mailto)[0].length:0}}},k="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",j="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function b(_){_.__index__=-1,_.__text_cache__=""}function $(_){return function(t,u){const e=t.slice(u);return _.test(e)?e.match(_)[0].length:0}}function m(){return function(_,t){t.normalize(_)}}function a(_){const t=_.re=x(_.__opts__),u=_.__tlds__.slice();_.onCompile(),_.__tlds_replaced__||u.push(k),u.push(t.src_xn),t.src_tlds=u.join("|");function e(r){return r.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(e(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(e(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(e(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(e(t.tpl_host_fuzzy_test),"i");const s=[];_.__compiled__={};function o(r,i){throw new Error('(LinkifyIt) Invalid schema "'+r+'": '+i)}Object.keys(_.__schemas__).forEach(function(r){const i=_.__schemas__[r];if(i===null)return;const h={validate:null,link:null};if(_.__compiled__[r]=h,g(i)){B(i.validate)?h.validate=$(i.validate):d(i.validate)?h.validate=i.validate:o(r,i),d(i.normalize)?h.normalize=i.normalize:i.normalize?o(r,i):h.normalize=m();return}if(y(i)){s.push(r);return}o(r,i)}),s.forEach(function(r){!_.__compiled__[_.__schemas__[r]]||(_.__compiled__[r].validate=_.__compiled__[_.__schemas__[r]].validate,_.__compiled__[r].normalize=_.__compiled__[_.__schemas__[r]].normalize)}),_.__compiled__[""]={validate:null,normalize:m()};const n=Object.keys(_.__compiled__).filter(function(r){return r.length>0&&_.__compiled__[r]}).map(Z).join("|");_.re.schema_test=RegExp("(^|(?!_)(?:[><\uFF5C]|"+t.src_ZPCc+"))("+n+")","i"),_.re.schema_search=RegExp("(^|(?!_)(?:[><\uFF5C]|"+t.src_ZPCc+"))("+n+")","ig"),_.re.schema_at_start=RegExp("^"+_.re.schema_search.source,"i"),_.re.pretest=RegExp("("+_.re.schema_test.source+")|("+_.re.host_fuzzy_test.source+")|@","i"),b(_)}function P(_,t){const u=_.__index__,e=_.__last_index__,s=_.__text_cache__.slice(u,e);this.schema=_.__schema__.toLowerCase(),this.index=u+t,this.lastIndex=e+t,this.raw=s,this.text=s,this.url=s}function l(_,t){const u=new P(_,t);return _.__compiled__[u.schema].normalize(u,_),u}function c(_,t){if(!(this instanceof c))return new c(_,t);t||v(_)&&(t=_,_={}),this.__opts__=F({},f,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=F({},w,_),this.__compiled__={},this.__tlds__=j,this.__tlds_replaced__=!1,this.re={},a(this)}c.prototype.add=function(t,u){return this.__schemas__[t]=u,a(this),this};c.prototype.set=function(t){return this.__opts__=F(this.__opts__,t),this};c.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let u,e,s,o,n,r,i,h,p;if(this.re.schema_test.test(t)){for(i=this.re.schema_search,i.lastIndex=0;(u=i.exec(t))!==null;)if(o=this.testSchemaAt(t,u[2],i.lastIndex),o){this.__schema__=u[2],this.__index__=u.index+u[1].length,this.__last_index__=u.index+u[0].length+o;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(h=t.search(this.re.host_fuzzy_test),h>=0&&(this.__index__<0||h<this.__index__)&&(e=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(n=e.index+e[1].length,(this.__index__<0||n<this.__index__)&&(this.__schema__="",this.__index__=n,this.__last_index__=e.index+e[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(p=t.indexOf("@"),p>=0&&(s=t.match(this.re.email_fuzzy))!==null&&(n=s.index+s[1].length,r=s.index+s[0].length,(this.__index__<0||n<this.__index__||n===this.__index__&&r>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=n,this.__last_index__=r))),this.__index__>=0};c.prototype.pretest=function(t){return this.re.pretest.test(t)};c.prototype.testSchemaAt=function(t,u,e){return this.__compiled__[u.toLowerCase()]?this.__compiled__[u.toLowerCase()].validate(t,e,this):0};c.prototype.match=function(t){const u=[];let e=0;this.__index__>=0&&this.__text_cache__===t&&(u.push(l(this,e)),e=this.__last_index__);let s=e?t.slice(e):t;for(;this.test(s);)u.push(l(this,e)),s=s.slice(this.__last_index__),e+=this.__last_index__;return u.length?u:null};c.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const u=this.re.schema_at_start.exec(t);if(!u)return null;const e=this.testSchemaAt(t,u[2],u[0].length);return e?(this.__schema__=u[2],this.__index__=u.index+u[1].length,this.__last_index__=u.index+u[0].length+e,l(this,0)):null};c.prototype.tlds=function(t,u){return t=Array.isArray(t)?t:[t],u?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(e,s,o){return e!==o[s-1]}).reverse(),a(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,a(this),this)};c.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};c.prototype.onCompile=function(){};export{c as L};
